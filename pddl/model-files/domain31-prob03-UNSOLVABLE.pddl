;Model version 3.1. Inspection with all object types. 
; Objects are arbitrarily defined. 

(define (problem full-inspection)
    (:domain inspection31)
    
    ;Objects
    (:objects   ;interesting objects for inspection
                pipe1-obj10 pipe2-obj9 pipe3-obj8 pipe4-obj11 pipe5-obj7 - pipe
                valve1 valve2 valve3 valve4 valve5 - valve 
                box1-obj7 - control-box
                vessel1-obj6 vessel2-obj4 vessel3-obj5 vessel4-obj5 vessel6-obj3 vessel7-obj2 - regular-vessel
                wall1-obj14 wall2-obj13 wall3-obj15 wall4-obj12 - wall
                vessel5-obj1 - toggle-vessel
                switch1-obj16 - vessel-switch

                ;waypoints
                w1x w2x w3x w4x w5x w6x w7x w8x w9x w10x 
                w11x w12x w13x w14x w15x w16x w17x w18x w19x w20x 
                w21x w22x w23x w24x w25x w26x w27x w28x w29x w30x 
                w31x w32x w33x w34x w35x w36x w37x w38x w39x w40x 
                w41x w42x w43x w44x w45x w46x w47x w48x w49x w50x 
                w51x w52x w53x w54x w55x w56x w57x w58x w59x w60x 
                w61x w62x w63x w64x w65x w66x w67x w68x  - posx

                w1y w2y w3y w4y w5y w6y w7y w8y w9y w10y 
                w11y w12y w13y w14y w15y w16y w17y w18y w19y w20y 
                w21y w22y w23y w24y w25y w26y w27y w28y w29y w30y 
                w31y w32y w33y w34y w35y w36y w37y w38y w39y w40y 
                w41y w42y w43y w44y w45y w46y w47y w48y w49y w50y 
                w51y w52y w53y w54y w55y w56y w57y w58y w59y w60y 
                w61y w62y w63y w64y w65y w66y w67y w68y  - posy
    )
    
    ;Initial State
    ;Need to set valve to pipe, set all valves to closed. 
    (:init  ;Specify coordinate values (imported from file in misc):
                (= (waypoint w1x) -0.1218318939208984) 
                (= (waypoint w2x) 1.994096755981445) 
                (= (waypoint w3x) 4.5313568115234375) 
                (= (waypoint w4x) 6.557579040527344) 
                (= (waypoint w5x) 7.842391490936279) 
                (= (waypoint w6x) 6.856735229492188) 
                (= (waypoint w7x) 5.555830001831055) 
                (= (waypoint w8x) 5.42558479309082) 
                (= (waypoint w9x) 6.519083023071289) 
                (= (waypoint w10x) 6.963254928588867) 
                (= (waypoint w11x) 4.584283828735352) 
                (= (waypoint w12x) 2.317379951477051) 
                (= (waypoint w13x) 1.2779722213745115) 
                (= (waypoint w14x) -0.1611576080322265) 
                (= (waypoint w15x) -0.1605119705200195) 
                (= (waypoint w16x) 2.485994338989258) 
                (= (waypoint w17x) 4.404748916625977) 
                (= (waypoint w18x) 5.656575202941895) 
                (= (waypoint w19x) 0.4570999145507812) 
                (= (waypoint w20x) -1.0125885009765625) 
                (= (waypoint w21x) -1.8590946197509768) 
                (= (waypoint w22x) -1.9677982330322263) 
                (= (waypoint w23x) -1.908034324645996) 
                (= (waypoint w24x) -3.658760070800781) 
                (= (waypoint w25x) -3.973165512084961) 
                (= (waypoint w26x) -6.4872589111328125) 
                (= (waypoint w27x) -8.25124740600586) 
                (= (waypoint w28x) -3.904906272888184) 
                (= (waypoint w29x) -1.8641395568847656) 
                (= (waypoint w30x) -0.8509674072265625) 
                (= (waypoint w31x) -2.883949279785156) 
                (= (waypoint w32x) -5.219956398010254) 
                (= (waypoint w33x) -7.481934547424316) 
                (= (waypoint w34x) -7.848366737365723) 
                (= (waypoint w35x) -7.753649711608887) 
                (= (waypoint w36x) -7.490196228027344) 
                (= (waypoint w37x) -7.573483467102051) 
                (= (waypoint w38x) -8.172195434570312) 
                (= (waypoint w39x) -7.444209098815918) 
                (= (waypoint w40x) -7.549870491027832) 
                (= (waypoint w41x) -5.798432350158691) 
                (= (waypoint w42x) -4.909024238586426) 
                (= (waypoint w43x) -4.969869613647461) 
                (= (waypoint w44x) -5.5551958084106445) 
                (= (waypoint w45x) -5.341214179992676) 
                (= (waypoint w46x) -5.238883018493652) 
                (= (waypoint w47x) -6.539395332336426) 
                (= (waypoint w48x) -2.991973876953125) 
                (= (waypoint w49x) -1.1190853118896484) 
                (= (waypoint w50x) -1.2698564529418943) 
                (= (waypoint w51x) -4.3794145584106445) 
                (= (waypoint w52x) 0.7567977905273438) 
                (= (waypoint w53x) 1.90557861328125) 
                (= (waypoint w54x) 1.0633811950683594) 
                (= (waypoint w55x) 2.9364118576049805) 
                (= (waypoint w56x) 6.2021589279174805) 
                (= (waypoint w57x) 7.806118965148926) 
                (= (waypoint w58x) 6.575754165649414) 
                (= (waypoint w59x) 4.857912063598633) 
                (= (waypoint w60x) 7.938353538513184) 
                (= (waypoint w61x) 6.407493591308594) 
                (= (waypoint w62x) 4.336721420288086) 
                (= (waypoint w63x) 7.3481903076171875) 
                (= (waypoint w64x) 6.000916481018066) 
                (= (waypoint w65x) 2.1140708923339844) 
                (= (waypoint w66x) 1.3926963806152344) 
                (= (waypoint w67x) -0.6474685668945312) 
                (= (waypoint w68x) 0.5516986846923828) 
                (= (waypoint w1y) -0.0259771347045898) 
                (= (waypoint w2y) -0.0439786911010742) 
                (= (waypoint w3y) -0.085784912109375) 
                (= (waypoint w4y) -0.3214273452758789) 
                (= (waypoint w5y) -2.5718584060668945) 
                (= (waypoint w6y) -5.310903549194336) 
                (= (waypoint w7y) -3.291231155395508) 
                (= (waypoint w8y) -6.284844398498535) 
                (= (waypoint w9y) -6.657915115356445) 
                (= (waypoint w10y) -8.342772483825684) 
                (= (waypoint w11y) -8.234786033630371) 
                (= (waypoint w12y) -8.385184288024902) 
                (= (waypoint w13y) -8.489228248596191) 
                (= (waypoint w14y) -6.5234785079956055) 
                (= (waypoint w15y) -3.616194725036621) 
                (= (waypoint w16y) -1.8003826141357422) 
                (= (waypoint w17y) -1.3879127502441406) 
                (= (waypoint w18y) -1.8085193634033203) 
                (= (waypoint w19y) -1.4837875366210938) 
                (= (waypoint w20y) 0.2969217300415039) 
                (= (waypoint w21y) -2.0568294525146484) 
                (= (waypoint w22y) -3.821854591369629) 
                (= (waypoint w23y) -6.88770866394043) 
                (= (waypoint w24y) -8.398080825805664) 
                (= (waypoint w25y) -6.456343650817871) 
                (= (waypoint w26y) -5.229393005371094) 
                (= (waypoint w27y) -5.351316452026367) 
                (= (waypoint w28y) -4.276196479797363) 
                (= (waypoint w29y) -8.6356201171875) 
                (= (waypoint w30y) -5.360382080078125) 
                (= (waypoint w31y) -2.35261344909668) 
                (= (waypoint w32y) -2.495210647583008) 
                (= (waypoint w33y) -0.4833307266235351) 
                (= (waypoint w34y) -2.752452850341797) 
                (= (waypoint w35y) 1.9571685791015625) 
                (= (waypoint w36y) 4.039443016052246) 
                (= (waypoint w37y) 5.720549583435059) 
                (= (waypoint w38y) 6.9970245361328125) 
                (= (waypoint w39y) 8.832785606384277) 
                (= (waypoint w40y) 3.727993965148926) 
                (= (waypoint w41y) 0.0971441268920898) 
                (= (waypoint w42y) 1.8313970565795896) 
                (= (waypoint w43y) 3.5237350463867188) 
                (= (waypoint w44y) 4.095023155212402) 
                (= (waypoint w45y) 6.497528553009033) 
                (= (waypoint w46y) 8.137776374816895) 
                (= (waypoint w47y) 4.391872406005859) 
                (= (waypoint w48y) 3.835938453674317) 
                (= (waypoint w49y) 7.366295337677002) 
                (= (waypoint w50y) 8.689624786376953) 
                (= (waypoint w51y) 4.468411445617676) 
                (= (waypoint w52y) 7.501811027526855) 
                (= (waypoint w53y) 8.655957221984863) 
                (= (waypoint w54y) 7.538145065307617) 
                (= (waypoint w55y) 7.717143535614014) 
                (= (waypoint w56y) 8.6217622756958) 
                (= (waypoint w57y) 7.990253448486328) 
                (= (waypoint w58y) 7.106501579284668) 
                (= (waypoint w59y) 6.749738693237305) 
                (= (waypoint w60y) 5.575770378112793) 
                (= (waypoint w61y) 5.127005577087402) 
                (= (waypoint w62y) 3.472482681274414) 
                (= (waypoint w63y) 2.3798952102661133) 
                (= (waypoint w64y) 1.9578466415405276) 
                (= (waypoint w65y) 2.127309799194336) 
                (= (waypoint w66y) 2.1152877807617188) 
                (= (waypoint w67y) 2.2751903533935547) 
                (= (waypoint w68y) 5.317008972167969) 

            ;specify which combination of waypoint coordinates are valid
                (is-waypoint w1x w1y) 
                (is-waypoint w2x w2y) 
                (is-waypoint w3x w3y) 
                (is-waypoint w4x w4y) 
                (is-waypoint w5x w5y) 
                (is-waypoint w6x w6y) 
                (is-waypoint w7x w7y) 
                (is-waypoint w8x w8y) 
                (is-waypoint w9x w9y) 
                (is-waypoint w10x w10y) 
                (is-waypoint w11x w11y) 
                (is-waypoint w12x w12y) 
                (is-waypoint w13x w13y) 
                (is-waypoint w14x w14y) 
                (is-waypoint w15x w15y) 
                (is-waypoint w16x w16y) 
                (is-waypoint w17x w17y) 
                (is-waypoint w18x w18y) 
                (is-waypoint w19x w19y) 
                (is-waypoint w20x w20y) 
                (is-waypoint w21x w21y) 
                (is-waypoint w22x w22y) 
                (is-waypoint w23x w23y) 
                (is-waypoint w24x w24y) 
                (is-waypoint w25x w25y) 
                (is-waypoint w26x w26y) 
                (is-waypoint w27x w27y) 
                (is-waypoint w28x w28y) 
                (is-waypoint w29x w29y) 
                (is-waypoint w30x w30y) 
                (is-waypoint w31x w31y) 
                (is-waypoint w32x w32y) 
                (is-waypoint w33x w33y) 
                (is-waypoint w34x w34y) 
                (is-waypoint w35x w35y) 
                (is-waypoint w36x w36y) 
                (is-waypoint w37x w37y) 
                (is-waypoint w38x w38y) 
                (is-waypoint w39x w39y) 
                (is-waypoint w40x w40y) 
                (is-waypoint w41x w41y) 
                (is-waypoint w42x w42y) 
                (is-waypoint w43x w43y) 
                (is-waypoint w44x w44y) 
                (is-waypoint w45x w45y) 
                (is-waypoint w46x w46y) 
                (is-waypoint w47x w47y) 
                (is-waypoint w48x w48y) 
                (is-waypoint w49x w49y) 
                (is-waypoint w50x w50y) 
                (is-waypoint w51x w51y) 
                (is-waypoint w52x w52y) 
                (is-waypoint w53x w53y) 
                (is-waypoint w54x w54y) 
                (is-waypoint w55x w55y) 
                (is-waypoint w56x w56y) 
                (is-waypoint w57x w57y) 
                (is-waypoint w58x w58y) 
                (is-waypoint w59x w59y) 
                (is-waypoint w60x w60y) 
                (is-waypoint w61x w61y) 
                (is-waypoint w62x w62y) 
                (is-waypoint w63x w63y) 
                (is-waypoint w64x w64y) 
                (is-waypoint w65x w65y) 
                (is-waypoint w66x w66y) 
                (is-waypoint w67x w67y) 
                (is-waypoint w68x w68y) 

            ;specify where the inspection objects are located
                (by-interesting w6x w6y vessel1-obj6)
                (by-interesting w7x w7y pipe1-obj10)
                (by-interesting w8x w8y pipe2-obj9)
                (by-interesting w13x w13y vessel2-obj4)
                (by-interesting w15x w15y vessel3-obj5)
                (by-interesting w16x w16y vessel4-obj5)
                (by-interesting w20x w20y wall1-obj14)
                (by-interesting w25x w25y pipe3-obj8)
                (by-interesting w26x w26y vessel5-obj1)
                (by-interesting w30x w30y pipe4-obj11)
                (by-interesting w48x w48y wall2-obj13)
                (by-interesting w54x w54y wall3-obj15)
                (by-interesting w66x w66y vessel6-obj3)
                (by-interesting w67x w67y vessel7-obj2)
                (by-interesting w68x w68y wall4-obj12)
                (by-interesting w5x w5y pipe5-obj7)
                (by-interesting w5x w5y box1-obj7)

            ;specify where switch is located
                (by-control w40x w40y switch1-obj16)
                (switch-connected switch1-obj16 vessel5-obj1)

            ;specify which valve belongs to which pip
        ;     pipe1-obj10 pipe2-obj9 pipe3-obj8 pipe4-obj11 pipe5-obj7
                (has-valve pipe1-obj10 valve1)  
                (has-valve pipe2-obj9 valve2)
                (has-valve pipe3-obj8 valve3)
                (has-valve pipe4-obj11 valve4)
                (has-valve pipe5-obj7 valve5)

            ;valves are closed
                (valve-closed valve1)
                (valve-closed valve2)
                (valve-closed valve3)
                (valve-closed valve4)
                (valve-closed valve5)

            ;specify where the robot starts
                (at-waypoint w1x w1y)

            ;total cost (total distance traveled) starts as 0
                (= (total-cost) 0)

        ) 
        
        ;goal specification;
        (:goal (and (forall (?x - posx)
                                (radiation-registered ?x))
                        (forall (?y - posy)
                                (radiation-registered ?y))
                        (at-waypoint w1x w1y)
                        (forall (?o - interesting)
                                (has-inspected ?o))
                        (forall (?v - valve)
                                (valve-closed ?v))
                        (forall (?v - toggle-vessel)
                                (not (vessel-off ?v)))))

        
        (:metric minimize (total-cost))  
)